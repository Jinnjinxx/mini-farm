<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>ë¯¸ë‹ˆ ë†ì‚¬ 6Ã—6</title>
<style>
  :root{
    --bg:#0b0f14;
    --panel:#121820;
    --panel-2:#18202a;
    --text:#e8eef6;
    --soil:#b08b67;
    /* íŒŒë€ ì•¡ì„¼íŠ¸ (ë” ì„ ëª…í•˜ê²Œ) */
    --blue:#1e90ff;            /* ê¸°ë³¸ */
    --blue-strong:#0d6efd;     /* hover */
    --blue-press:#0057d9;      /* active */
    --blue-ring:#66b3ff55;     /* focus ring */
  }
  *{box-sizing:border-box;-webkit-tap-highlight-color: transparent}
  html,body{height:100%;margin:0;background:var(--bg);color:var(--text);font-family:-apple-system,BlinkMacSystemFont,"Apple SD ì‚°ëŒê³ ë”• Neo","Malgun Gothic",Segoe UI,Roboto,Noto Sans,sans-serif}

  .wrap{display:grid;grid-template-rows:auto 1fr auto;gap:10px;max-width:900px;margin:0 auto;padding:10px}

  .topbar{
    display:flex;gap:8px;align-items:center;flex-wrap:wrap;
    background:linear-gradient(180deg,var(--panel),var(--panel-2));
    border:1px solid #23303c;border-radius:14px;padding:10px;position:sticky;top:0;z-index:10
  }
  .pill{padding:8px 12px;border-radius:999px;background:#0c1218;border:1px solid #23303c;white-space:nowrap;font-size:14px}
  .grow{flex:1}

  .btn{
    appearance:none;border:1px solid #2a3947;background:#0c1218;color:var(--text);
    padding:12px 14px;border-radius:12px;cursor:pointer;transition:transform .02s,opacity .2s, background .12s, box-shadow .12s, border-color .12s;
    font-size:16px;line-height:1;text-align:center
  }
  .btn:active{transform:translateY(1px)}
  /* ë” ì„ ëª…í•œ íŒŒë€ ë²„íŠ¼ */
  .btn-accent{
    background:var(--blue); color:#061225; border-color:#0b56a5; font-weight:700;
    box-shadow:0 1px 0 #00000060, 0 0 0 0px transparent;
  }
  .btn-accent:hover{ background:var(--blue-strong) }
  .btn-accent:active{
    background:var(--blue-press); box-shadow: inset 0 2px 6px #00000055;
  }
  .btn-accent:focus-visible{
    outline:none; box-shadow:0 0 0 3px var(--blue-ring);
  }

  .btn-house{
    background:#7bd88f;color:#06230e;border-color:#2f7c50;font-weight:700
  }

  .seed-select{display:flex;gap:10px;align-items:center;background:#0c1218;border:1px solid #23303c;border-radius:12px;padding:6px 10px}
  .seed-item{display:flex;align-items:center;gap:6px;padding:6px 8px;border-radius:10px;border:1px solid #2a3947;background:#0b0f14}
  .seed-item input{width:18px;height:18px}
  .seed-count{font-size:12px;color:#9fb0c2}

  .board-wrap{display:grid;grid-template-columns:1fr;gap:10px;min-height:0}
  .board{background:#0c1015;border:1px solid #23303c;border-radius:14px;padding:10px;display:grid;place-items:center}

  /* 6x6 ê·¸ë¦¬ë“œ */
  .grid{
    display:grid;grid-template-columns:repeat(6,1fr);gap:6px;
    width:min(96vw,520px);aspect-ratio:1/1;touch-action:manipulation
  }
  .tile{
    border:1px solid #3a2f25;border-radius:8px;background:var(--soil);
    display:grid;place-items:center;user-select:none;cursor:pointer;
    transition:filter .15s,transform .02s;min-width:calc(96vw/6 - 6px);min-height:calc(96vw/6 - 6px)
  }
  .tile:active{transform:translateY(1px)}
  .tile[data-state="empty"]{filter:saturate(.9) brightness(.95)}
  .tile[data-state="growing"]{filter:saturate(1.05)}
  .tile[data-state="ready"]{box-shadow:inset 0 0 0 2px rgba(255,255,255,.09),0 0 0 2px rgba(255,255,255,.03)}

  .legend{background:linear-gradient(180deg,var(--panel),var(--panel-2));border:1px solid #23303c;border-radius:14px;padding:12px}
  .legend h3{margin:0 0 8px 0;font-size:16px}
  .row{display:flex;gap:8px;align-items:center;margin:6px 0;flex-wrap:wrap}
  .dot{width:16px;height:16px;border-radius:4px;border:1px solid #0003}
  .dot.tomato{background:#e74c3c}.dot.potato{background:#d3a16b}
  .small{font-size:13px;color:#9fb0c2}
  .kbd{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;background:#0b0f14;border:1px solid #2a3440;border-radius:6px;padding:3px 7px}

  /* ê°€íŒëŒ€ ëª¨ë‹¬ */
  .shop{display:none;position:fixed;inset:0;backdrop-filter:blur(3px);background:rgba(0,0,0,.45);place-items:center;z-index:50}
  .shop .card{background:#0f141a;border:1px solid #2f3945;border-radius:16px;padding:16px;max-width:440px;width:calc(100% - 24px)}
  .shop .card h2{margin:0 0 10px 0;font-size:18px}
  .shop .status{
    display:flex;gap:8px;flex-wrap:wrap;align-items:center;
    background:#0c1218;border:1px solid #23303c;border-radius:12px;padding:8px 10px;margin-bottom:10px
  }
  .status .badge{padding:6px 8px;border-radius:10px;background:#091018;border:1px solid #23303c;font-size:13px}
  .shop .item{display:flex;justify-content:space-between;align-items:center;margin:8px 0;padding:10px;border:1px dashed #2b3641;border-radius:12px}
  .shop .item .name{display:flex;align-items:center;gap:10px}
  .shop .counts{font-size:12px;color:#9fb0c2;margin-top:4px}
</style>
</head>
<body>
  <div class="wrap">
    <div class="topbar">
      <div class="pill" id="day">Day 1</div>
      <div class="pill" id="money">$ 200</div>
      <div class="seed-select">
        <label class="seed-item">
          <input type="radio" name="seed" value="tomato" id="radioTomato">
          <span>í† ë§ˆí† </span>
          <span class="seed-count" id="countTomato">0ê°œ</span>
        </label>
        <label class="seed-item">
          <input type="radio" name="seed" value="potato" id="radioPotato">
          <span>ê°ì</span>
          <span class="seed-count" id="countPotato">0ê°œ</span>
        </label>
      </div>
      <div class="grow"></div>
      <button class="btn btn-accent" id="btnShop">ê°€íŒëŒ€</button>
      <button class="btn btn-house" id="btnNext">ğŸ  ë‹¤ìŒë‚ </button>
    </div>

    <div class="board-wrap">
      <div class="board">
        <div id="grid" class="grid" aria-label="6x6 ë°­"></div>
      </div>
      <div class="legend">
        <h3>ë„ì›€ë§</h3>
        <div class="row"><span class="kbd">íƒ­</span> ë¹ˆ ì¹¸ â†’ ì„ íƒí•œ ì”¨ì•— ì‹¬ê¸°</div>
        <div class="row"><span class="kbd">íƒ­</span> ìˆ˜í™• ìƒíƒœ â†’ ìˆ˜í™• &amp; ëˆ íšë“</div>
        <div class="row small">ê°€íŒëŒ€ì—ì„œ êµ¬ë§¤ â†’ ìœ„ ë¼ë””ì˜¤ë¡œ ì”¨ì•— ì„ íƒ â†’ ë°­ íƒ­</div>
      </div>
    </div>
  </div>

  <!-- Shop Modal -->
  <div class="shop" id="shop">
    <div class="card">
      <h2>ê°€íŒëŒ€</h2>
      <!-- í˜„ì¬ ë³´ìœ  í˜„í™© -->
      <div class="status" id="shopStatus">
        <div class="badge" id="shopMoney">ë³´ìœ  ê¸ˆì•¡: $ 200</div>
        <div class="badge" id="shopTomato">í† ë§ˆí†  ì”¨ì•—: 0ê°œ</div>
        <div class="badge" id="shopPotato">ê°ì ì”¨ì•—: 0ê°œ</div>
      </div>

      <div class="item">
        <div class="name">
          <div class="dot tomato"></div>
          <div>
            <strong>í† ë§ˆí†  ì”¨ì•—</strong>
            <div class="small">ì„±ì¥ 3ì¼ Â· íŒë§¤ $30</div>
            <div class="counts" id="shopTomatoInline">ë³´ìœ : 0ê°œ</div>
          </div>
        </div>
        <button class="btn btn-accent" data-buy="tomato">êµ¬ë§¤ $10</button>
      </div>

      <div class="item">
        <div class="name">
          <div class="dot potato"></div>
          <div>
            <strong>ê°ì ì”¨ì•—</strong>
            <div class="small">ì„±ì¥ 5ì¼ Â· íŒë§¤ $50</div>
            <div class="counts" id="shopPotatoInline">ë³´ìœ : 0ê°œ</div>
          </div>
        </div>
        <button class="btn btn-accent" data-buy="potato">êµ¬ë§¤ $15</button>
      </div>

      <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:10px">
        <button class="btn" id="btnCloseShop">ë‹«ê¸°</button>
      </div>
    </div>
  </div>

<script>
// ====== ë°ì´í„° ======
const CROPS={
  tomato:{id:'tomato',name:'Tomato',growDays:3,seedPrice:10,sellPrice:30,color:'#e74c3c'},
  potato:{id:'potato',name:'Potato',growDays:5,seedPrice:15,sellPrice:50,color:'#d3a16b'}
};
let state={
  day:1, money:200, selected:null,
  seeds:{tomato:0,potato:0},
  tiles:[]
};

// ====== ìš”ì†Œ ======
const $day=document.getElementById('day');
const $money=document.getElementById('money');
const $grid=document.getElementById('grid');
const $shop=document.getElementById('shop');
const $btnShop=document.getElementById('btnShop');
const $btnNext=document.getElementById('btnNext');
const $btnCloseShop=document.getElementById('btnCloseShop');

const $radioTomato=document.getElementById('radioTomato');
const $radioPotato=document.getElementById('radioPotato');
const $countTomato=document.getElementById('countTomato');
const $countPotato=document.getElementById('countPotato');

// Shop status elements
const $shopMoney=document.getElementById('shopMoney');
const $shopTomato=document.getElementById('shopTomato');
const $shopPotato=document.getElementById('shopPotato');
const $shopTomatoInline=document.getElementById('shopTomatoInline');
const $shopPotatoInline=document.getElementById('shopPotatoInline');

// ====== ì´ˆê¸°í™” (6x6=36 íƒ€ì¼) ======
function init(){
  state.tiles=Array.from({length:36},()=>({cropId:null,grown:0,phase:'empty'}));
  const frag=document.createDocumentFragment();
  for(let i=0;i<36;i++){
    const tile=document.createElement('div');
    tile.className='tile'; tile.dataset.idx=i;
    applyTileStyle(tile,state.tiles[i]);
    tile.addEventListener('click', onTileTap, {passive:true});
    frag.appendChild(tile);
  }
  $grid.appendChild(frag);
  refreshUI();
}
document.addEventListener('DOMContentLoaded', init);

// ====== UI ê°±ì‹  ======
function refreshUI(){
  $day.textContent=`Day ${state.day}`;
  $money.textContent=`$ ${state.money}`;
  $countTomato.textContent = `${state.seeds.tomato}ê°œ`;
  $countPotato.textContent = `${state.seeds.potato}ê°œ`;

  if(state.selected==='tomato'){ $radioTomato.checked=true; $radioPotato.checked=false; }
  else if(state.selected==='potato'){ $radioPotato.checked=true; $radioTomato.checked=false; }
  else { $radioTomato.checked=false; $radioPotato.checked=false; }

  // Shop ìƒíƒœë„ í•¨ê»˜ ê°±ì‹ 
  updateShopUI();
}
function updateShopUI(){
  if(!$shopMoney) return;
  $shopMoney.textContent = `ë³´ìœ  ê¸ˆì•¡: $ ${state.money}`;
  $shopTomato.textContent = `í† ë§ˆí†  ì”¨ì•—: ${state.seeds.tomato}ê°œ`;
  $shopPotato.textContent = `ê°ì ì”¨ì•—: ${state.seeds.potato}ê°œ`;
  $shopTomatoInline.textContent = `ë³´ìœ : ${state.seeds.tomato}ê°œ`;
  $shopPotatoInline.textContent = `ë³´ìœ : ${state.seeds.potato}ê°œ`;
}
function tileEl(i){return $grid.children[i];}
function applyTileStyle(el,data){
  el.dataset.state=data.phase;
  if(data.phase==='empty'){
    el.style.background=getComputedStyle(document.documentElement).getPropertyValue('--soil');
    el.style.borderColor='#3a2f25';
  } else if(data.phase==='growing'){
    el.style.background='linear-gradient(180deg, var(--soil) 0%, #6fbf73 100%)';
    el.style.borderColor='#2d4c33';
  } else {
    const col=data.cropId==='tomato'?CROPS.tomato.color:CROPS.potato.color;
    el.style.background=col; el.style.borderColor='#00000055';
  }
}

// ====== ì”¨ì•— ì„ íƒ ======
$radioTomato.addEventListener('change', ()=> { if($radioTomato.checked) state.selected='tomato'; });
$radioPotato.addEventListener('change', ()=> { if($radioPotato.checked) state.selected='potato'; });

// ====== ê°€íŒëŒ€ ======
$btnShop.addEventListener('click',()=>{ updateShopUI(); $shop.style.display='grid'; });
if($btnCloseShop) $btnCloseShop.addEventListener('click',()=> $shop.style.display='none');
$shop.addEventListener('click',(e)=>{
  if(e.target===$shop){ $shop.style.display='none'; return; }
  const btn=e.target.closest('[data-buy]'); if(!btn) return;
  const id=btn.getAttribute('data-buy'), crop=CROPS[id];
  // íŒŒë€ ëˆŒë¦¼ íš¨ê³¼ë¥¼ ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ í•œ ë²ˆ ë” ê°•ì¡°
  btn.animate([
    {transform:'scale(1)', filter:'brightness(1)'},
    {transform:'scale(0.98)', filter:'brightness(1.1)'},
    {transform:'scale(1)', filter:'brightness(1)'}
  ],{duration:160});

  if(state.money>=crop.seedPrice){
    state.money -= crop.seedPrice;
    state.seeds[id] += 1;
    refreshUI();       // ìƒë‹¨/ê°€íŒëŒ€ ëª¨ë‘ ë°˜ì˜
  } else {
    // ë¶€ì¡±í•˜ë©´ ë¹¨ê°„ í”ë“¤ë¦¼
    btn.animate([{transform:'translateX(0)'},{transform:'translateX(-3px)'},{transform:'translateX(3px)'},{transform:'translateX(0)'}],{duration:200});
  }
});

// ====== ë‹¤ìŒë‚  ======
$btnNext.addEventListener('click',()=>{
  state.day++;
  for(let i=0;i<state.tiles.length;i++){
    const t=state.tiles[i];
    if(t.phase==='growing' && t.cropId){
      t.grown++;
      if(t.grown>=CROPS[t.cropId].growDays) t.phase='ready';
      applyTileStyle(tileEl(i),t);
    }
  }
  refreshUI();
});

// ====== íƒ€ì¼ íƒ­ ======
function onTileTap(e){
  const idx=+e.currentTarget.dataset.idx, t=state.tiles[idx];
  if(t.phase==='empty'){
    if(!state.selected) return;
    if(state.seeds[state.selected]<=0) return;
    state.seeds[state.selected]--;
    t.cropId=state.selected; t.grown=0; t.phase='growing';
    applyTileStyle(e.currentTarget,t);
    refreshUI();
  } else if(t.phase==='ready'){
    const crop=CROPS[t.cropId]; state.money+=crop.sellPrice;
    t.cropId=null; t.grown=0; t.phase='empty';
    applyTileStyle(e.currentTarget,t);
    refreshUI();
  }
}
</script>
</body>
</html>
