<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>ÎØ∏Îãà ÎÜçÏÇ¨ 6√ó6 (c.png Ï∫êÎ¶≠ÌÑ∞ + d.png Î∞≠)</title>
<style>
  :root{
    --bg:#0b0f14; --panel:#121820; --panel-2:#18202a; --text:#e8eef6;
    --blue:#1e90ff; --blue-strong:#0d6efd; --blue-press:#0057d9; --blue-ring:#66b3ff55;
    --slot:#0c1218; --slot-border:#2a3947; --slot-sel:#66b3ff66;
  }
  *{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
  html,body{
    height:100%;margin:0;background:var(--bg);color:var(--text);
    font-family:-apple-system,BlinkMacSystemFont,"Apple SD ÏÇ∞ÎèåÍ≥†Îîï Neo","Malgun Gothic",Segoe UI,Roboto,Noto Sans,sans-serif;
    -webkit-text-size-adjust:100%;
  }
  .wrap{display:grid;grid-template-rows:auto 1fr auto;gap:10px;max-width:900px;margin:0 auto;padding:10px}
  .topbar{display:flex;gap:8px;align-items:center;flex-wrap:wrap;background:linear-gradient(180deg,var(--panel),var(--panel-2));border:1px solid #23303c;border-radius:14px;padding:10px;position:sticky;top:0;z-index:10}
  .pill{padding:8px 12px;border-radius:999px;background:#0c1218;border:1px solid #23303c;white-space:nowrap;font-size:14px}
  .grow{flex:1}
  .btn{appearance:none;border:1px solid #2a3947;background:#0c1218;color:var(--text);padding:12px 14px;border-radius:12px;cursor:pointer;transition:transform .02s,opacity .2s,background .12s,box-shadow .12s,border-color .12s;font-size:16px;line-height:1;text-align:center;touch-action:manipulation;-webkit-user-select:none;user-select:none;-webkit-touch-callout:none;}
  .btn:active{transform:translateY(1px)}
  .btn-accent{background:var(--blue);color:#061225;border-color:#0b56a5;font-weight:700;box-shadow:0 1px 0 #00000060}
  .btn-accent:hover{background:var(--blue-strong)}
  .btn-house{background:#7bd88f;color:#06230e;border-color:#2f7c50;font-weight:700}

  .board{background:#0c1015;border:1px solid #23303c;border-radius:14px;padding:10px;display:grid;place-items:center;position:relative}
  .grid{display:grid;grid-template-columns:repeat(6,1fr);gap:6px;width:min(96vw,520px);aspect-ratio:1/1;touch-action:manipulation}
  .tile{
    border:1px solid #3a2f25;border-radius:8px;
    display:grid;place-items:center;user-select:none;cursor:pointer;
    transition:filter .15s,transform .02s;
    background-image:url("d.png");
    background-size:cover;background-position:center;
  }
  .tile:active{transform:translateY(1px)}
  .tile[data-state="ready"]{box-shadow:inset 0 0 0 2px rgba(255,255,255,.09),0 0 0 2px rgba(255,255,255,.03)}

  #playerWrap{position:absolute;width:62px;height:62px;transform:translate(-50%,-100%);pointer-events:none;z-index:5;}
  #playerSprite{width:62px;height:62px;image-rendering:pixelated;display:block;}
  #headIcon{position:absolute;left:50%;top:-6px;transform:translateX(-50%);width:22px;height:22px;image-rendering:pixelated;display:none;}

  .inventory{display:none;position:fixed;inset:0;backdrop-filter:blur(3px);background:rgba(0,0,0,.45);place-items:center;z-index:60}
  .inventory .card{background:#0f141a;border:1px solid #2f3945;border-radius:16px;padding:16px;max-width:520px;width:calc(100% - 24px)}
  .inventory-grid{display:grid;grid-template-columns:repeat(4,1fr);grid-auto-rows:96px;gap:10px}
  .slot{position:relative;border:1px solid var(--slot-border);border-radius:12px;background:#0c1218;display:grid;place-items:center;overflow:hidden}
  .slot.selected{outline:3px solid var(--slot-sel)}
  .slot img{width:62px;height:62px;image-rendering:pixelated;object-fit:contain;pointer-events:none}
  .slot .label{position:absolute;left:8px;top:6px;font-size:12px;color:#9fb0c2}
  .slot .count{position:absolute;right:4px;bottom:2px;font-weight:800;font-size:14px;color:#fff;-webkit-text-stroke:2px #000;text-shadow:1px 0 #000,-1px 0 #000,0 1px #000,0 -1px #000;}

  .shop{display:none;position:fixed;inset:0;backdrop-filter:blur(3px);background:rgba(0,0,0,.45);place-items:center;z-index:50}
  .shop .card{background:#0f141a;border:1px solid #2f3945;border-radius:16px;padding:16px;max-width:460px;width:calc(100% - 24px)}
  .shop .status{display:flex;gap:8px;flex-wrap:wrap;align-items:center;background:#0c1218;border:1px solid #23303c;border-radius:12px;padding:8px 10px;margin-bottom:10px}
  .status .badge{padding:6px 8px;border-radius:10px;background:#091018;border:1px solid #23303c;font-size:13px}
  .shop .item{display:flex;justify-content:space-between;align-items:center;margin:8px 0;padding:10px;border:1px dashed #2b3641;border-radius:12px}
  .shop .item .name{display:flex;align-items:center;gap:10px}
  .shop .item .icon{width:22px;height:22px;image-rendering:pixelated}
  .shop .counts{font-size:12px;color:#9fb0c2;margin-top:4px}
</style>
</head>
<body>
  <div class="wrap">
    <div class="topbar">
      <div class="pill" id="day">Day 1</div>
      <div class="pill" id="money">$ 200</div>
      <div class="pill" id="selectedPill">ÏÑ†ÌÉù: ÏóÜÏùå</div>
      <div class="grow"></div>
      <button class="btn" id="btnInventory">üéí Ïù∏Î≤§ÌÜ†Î¶¨</button>
      <button class="btn btn-accent" id="btnShop">Í∞ÄÌåêÎåÄ</button>
      <button class="btn btn-house" id="btnNext">üè† Îã§ÏùåÎÇ†</button>
    </div>

    <div class="board">
      <div id="grid" class="grid"></div>
      <div id="playerWrap" style="left:50%;top:50%">
        <img id="playerSprite" src="c.png" alt="player">
        <img id="headIcon" src="">
      </div>
    </div>
  </div>

<script>
const CROPS={tomato:{id:'tomato',name:'ÌÜ†ÎßàÌÜ†',growDays:3,seedPrice:10,sellPrice:30,img:'IMG_4636.png'},
potato:{id:'potato',name:'Í∞êÏûê',growDays:5,seedPrice:15,sellPrice:50,img:'IMG_4637.png'}};
let state={day:1,money:200,selected:null,seeds:{tomato:0,potato:0},tiles:[]};
const $day=document.getElementById('day'),$money=document.getElementById('money'),$selectedPill=document.getElementById('selectedPill');
const $grid=document.getElementById('grid'),$playerWrap=document.getElementById('playerWrap'),$headIcon=document.getElementById('headIcon');
const player={x:0,y:0,tx:0,ty:0,speed:240},ARRIVE_DIST=20;let pendingAction=null;

function init(){
  state.tiles=Array.from({length:36},()=>({cropId:null,grown:0,phase:'empty'}));
  const frag=document.createDocumentFragment();
  for(let i=0;i<36;i++){const t=document.createElement('div');t.className='tile';t.dataset.idx=i;t.addEventListener('click',onTileTap);frag.appendChild(t);}
  $grid.appendChild(frag);
  const g=$grid.getBoundingClientRect();player.x=(g.left+g.right)/2-g.left;player.y=g.bottom-g.top;player.tx=player.x;player.ty=player.y;placePlayer();refreshUI();requestAnimationFrame(loop);
}
document.addEventListener('DOMContentLoaded',init);
function refreshUI(){
  $day.textContent=`Day ${state.day}`;$money.textContent=`$ ${state.money}`;
  const sel=state.selected?state.selected==='tomato'?'ÌÜ†ÎßàÌÜ†':'Í∞êÏûê':'ÏóÜÏùå';$selectedPill.textContent=`ÏÑ†ÌÉù: ${sel}`;
  if(state.selected==='tomato'&&state.seeds.tomato>0){$headIcon.src=CROPS.tomato.img;$headIcon.style.display='block';}
  else if(state.selected==='potato'&&state.seeds.potato>0){$headIcon.src=CROPS.potato.img;$headIcon.style.display='block';}
  else $headIcon.style.display='none';
}
function applyTileStyle(el,d){
  if(d.phase==='empty')el.style.backgroundImage='url("d.png")';
  else if(d.phase==='growing')el.style.backgroundImage='url("IMG_4638.png")';
  else if(d.phase==='ready')el.style.backgroundImage=`url(${CROPS[d.cropId].img})`;
}
function placePlayer(){$playerWrap.style.left=`${player.x}px`;$playerWrap.style.top=`${player.y}px`;}
function tileCenterPx(tile){const r=tile.getBoundingClientRect(),b=$grid.getBoundingClientRect();return{x:r.left-b.left+r.width/2,y:r.top-b.top+r.height/2}}
function onTileTap(e){
  const idx=+e.currentTarget.dataset.idx,t=state.tiles[idx],c=tileCenterPx(e.currentTarget);
  player.tx=c.x;player.ty=c.y+6;
  if(t.phase==='empty'){if(!state.selected||state.seeds[state.selected]<=0)return;if(dist(player,c)<=ARRIVE_DIST)plantAt(idx,e.currentTarget);else pendingAction={type:'plant',idx}}
  else if(t.phase==='ready'){if(dist(player,c)<=ARRIVE_DIST)harvestAt(idx,e.currentTarget);else pendingAction={type:'harvest',idx}}
}
function dist(p,c){return Math.hypot(p.x-c.x,p.y-c.y)}
function plantAt(i,el){const t=state.tiles[i];if(t.phase!=='empty'||!state.selected||state.seeds[state.selected]<=0)return;state.seeds[state.selected]--;t.cropId=state.selected;t.grown=0;t.phase='growing';applyTileStyle(el,t);refreshUI();}
function harvestAt(i,el){const t=state.tiles[i];if(t.phase!=='ready')return;state.money+=CROPS[t.cropId].sellPrice;t.cropId=null;t.phase='empty';applyTileStyle(el,t);refreshUI();}
function loop(ts){const dx=player.tx-player.x,dy=player.ty-player.y,d=Math.hypot(dx,dy);if(d>0.5){const step=Math.min(d,player.speed*0.016);player.x+=dx/d*step;player.y+=dy/d*step;placePlayer();if(d<=ARRIVE_DIST&&pendingAction){doPending();}}else if(pendingAction)doPending();requestAnimationFrame(loop);}
function doPending(){const el=$grid.children[pendingAction.idx];pendingAction.type==='plant'?plantAt(pendingAction.idx,el):harvestAt(pendingAction.idx,el);pendingAction=null;}
</script>
</body>
</html>
